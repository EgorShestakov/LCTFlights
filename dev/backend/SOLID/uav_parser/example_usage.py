"""
Пример использования UAV парсера
"""

from uav_parser import UAVFlightParser


def main():
    # Создаем экземпляр парсера
    parser = UAVFlightParser()
    
    # Пример сообщения о полете
    test_messages = [
        "-SID FLIGHT001 TYP/BLA DEP/5530N03730E DEST/5535N03735E ATD/0830 ATA/0930 ADD/151223 ADA/151223",
        "-SID FLIGHT002 TYP/1BLA DEP/5230N03720E DEST/5235N03725E ATD/0900 ATA/1030 DOF/151223",
        """ЗЦЗЦ ПАД000 0754
ФФ УНКУЗДЗЬ
290754 УНКУЗДЗИ
(SHR-ZZZZZ
-ZZZZ0400
-M0025/M0027 /ZONA 6837N08005E 6837N08007E 6834N08010E 6836N08022E
6843N08026E 6845N08032E 6841N08039E 6840N08036E 6842N08031E
6836N08027E 6830N08014E 6837N08005E/
-ZZZZ1800
-DEP/6836N08007E DEST/6836N08007E DOF/240102 EET/UNKU0001 UNKL0001
OPR/ООО ФИНКО REG/0267J81 02K6779 TYP/2BLA RMK/MR091162 MESSOIAHA GT
WZL/POS 683605N0800635E R 500 M H ABS 0-270 M MONITORING TRUBOPROVODA
POLET W ZONE H 250-270 M AMSL 220-250 AGL SHR RAZRABOTAL PRP
AWERXKOW TEL 89127614825 WZAIMODEJSTWIE S ORGANAMI OWD OSUQESTWLIAET
WNESHNIJ PILOT BWS САЛТЫКОВ 89174927358 89128709162 SID/7771444381)""",
        """(SHR-ZZZZZ
-ZZZZ0400
-M0025/M0027 /ZONA 6837N08005E 6849N07959E 6859N07957E 6859N08003E
6848N08026E 6859N08040E 6902N08057E 6858N08101E 6841N08039E
6833N08027E 6824N08030E 6824N08023E 6837N08005E/
-ZZZZ0600
-DEP/6836N08007E DEST/6836N08007E DOF/250103 EET/UNKL0001 OPR/ООО
ФИНКО REG/0R02080 055N126 TYP/2BLA RMK/MR091355 MESSOIAHA BWS
SUPERCAM S350 GT WZL POS 683605N0800635E H ABS 0 270 M R 500 M W ZONE
H POLETА 250 270 M AMSL 220 240 AGL CELX MONITORING TRUBOPROVODA SHR
RAZRABOTAL PRP ЕЛЫШЕВА TEL 89829906599 WZAIMODEJSTWIE S ORGANAMI OWD
OSUQESTWLIAET WNESHNIJ PILOT BWS АРСЕНЬЕВ 89962984808 89128709162
SID/7772271829)""",
        """
        ЗЦЗЦ ПАД592 0401
ФФ УНКУЗДЗЬ УНКЛЗРЗЬ
020401 УОООЗТЗЬ
(DEP-ZZZZZ-ZZZZ0400-ZZZZ1800
-DEP/6836N08007E DEST/6836N08007E DOF/240102
REG/0267J81 RMK/MR091162)
        """,
        """
        ЗЦЗЦ ПАТ993 0539
ФФ УНКЛЗТЗЬ УНКЛЗФЗЬ УНКЛЗРЗЬ
240538 УНКУЗДЗЬ
(ARR-RF37373-ZZZZ0530-ZZZZ0538
-DEP/5559N09245E DEST/5559N09245E DOF/240124 RMK/ SID/7771472929)
""",
        """
        -TITLE IDEP
-SID 7772271821
-ADD 250104
-ATD 0030
-ADEP ZZZZ
-ADEPZ 6049N06937E
-PAP 0
-REG 0J02194 00Q2171
        """

    ]

    print("Парсинг одиночного сообщения:")
    result1 = parser.parse_single_message(test_messages[0])
    print(f"Идентификатор полета: {result1.flight_identification}")
    print(f"Тип БПЛА: {result1.uav_type}")
    print(f"Координаты взлета: {result1.takeoff_coordinates}")
    print(f"Продолжительность полета: {result1.flight_duration}")
    print()

    print("Парсинг нескольких сообщений:")
    results = parser.parse_multiple_messages(test_messages)
    print(f"Распарсено сообщений: {parser.get_parsed_count()}")
    print()

    print("Результаты в JSON:")
    json_output = parser.to_json()
    print(json_output)


if __name__ == "__main__":
    main()
